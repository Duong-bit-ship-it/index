<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>20 - 10 Womens Day 🌸</title>
<style>
  :root{
    --card-w: 820px;
    --card-h: 500px;
  }
  body{
    margin:0;
    height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    background: linear-gradient(135deg,#fff7fb,#fff0f5);
    font-family: "Segoe UI", Roboto, sans-serif;
  }

  /* Khung thiệp */
  .card{
    position:relative;
    width:var(--card-w);
    height:var(--card-h);
    border-radius:24px;
    padding:34px;
    box-sizing:border-box;
    background: linear-gradient(145deg,#fff0f6,#ffe6ec);
    box-shadow: 0 12px 30px rgba(0,0,0,0.15);
    overflow:hidden;
  }

  /* Giữ chữ không bị cây che, cho phép xuống dòng linh hoạt */
  .text-wrap {
  position: absolute;
  left: 34px;
  top: 34px;
  bottom: 34px;
  width: 420px;           /* Giới hạn vùng chữ, cố định bên trái */
  right: auto;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  word-wrap: break-word;
  z-index: 6;             /* Cho chữ nổi lên trên tim rơi (nếu có) */
}

.tree-wrap {
  position: absolute;
  right: 2px;
  bottom: -10px;
  width: 460px;
  height: auto;
  z-index: 4;             /* Hạ xuống để cây không đè chữ */
  pointer-events: none;
  animation: pulse 3s ease-in-out infinite;
}



  h1{
    margin:0 0 6px 0;
    font-family: "Dancing Script", "Segoe UI", sans-serif;
    font-size:40px;
    color:#f59abb;
  }
  h2{
    margin:0 0 10px 0;
    font-size:16px;
    color:#6b486b;
  }

  .message{
    margin-top:6px;
    font-size:18px;
    color:#333;
    line-height:1.3;
    white-space:pre-wrap;
    min-height:200px;
  }

  /* 🌳 Cây và hiệu ứng nhịp đập */
  .tree-wrap{
    position:absolute;
    right:0;
    bottom:-10px;
    width:430px; /* to hơn chút */
    height:auto;
    z-index:5;
    pointer-events:none;
    animation: pulse 3s ease-in-out infinite;
  }

  /* 💫 Ánh sáng lung linh quanh cây */
  .tree-wrap::before{
    content:"";
    position:absolute;
    left:50%;
    bottom:25%;
    transform:translateX(-50%);
    width:460px;
    height:500px;
    border-radius:50%;
    background: radial-gradient(circle, rgba(255,182,193,0.5) 0%, rgba(255,192,203,0.15) 60%, transparent 100%);
    filter: blur(35px);
    animation: glow 3s ease-in-out infinite;
    z-index:-1;
  }

  .tree-wrap img{
    width:100%;
    display:block;
    user-select:none;
  }

  /* 💗 Nhịp đập nhẹ */
  @keyframes pulse {
    0%,100% { transform: scale(1) translateY(0); }
    50% { transform: scale(1.03) translateY(-3px); }
  }

  /* ✨ Ánh sáng mờ quanh cây */
  @keyframes glow {
    0%,100% { opacity:0.6; transform:scale(1);}
    50% { opacity:1; transform:scale(1.15);}
  }

  /* 💖 Tim rơi */
  .heart{
    position:absolute;
    will-change: transform, opacity;
    pointer-events:none;
    z-index:4;
    opacity:0.95;
  }

  /* 🌟 Hạt sáng nhỏ bay quanh cây */
  .sparkle{
    position:absolute;
    border-radius:50%;
    background: radial-gradient(circle, white, rgba(255,192,203,0.3));
    opacity:0.8;
    animation: sparkleMove 4s ease-in-out infinite;
    pointer-events:none;
    z-index:6;
  }

  @keyframes sparkleMove {
    0% { transform:translate(0,0) scale(1); opacity:1;}
    50% { transform:translate(-10px,-20px) scale(1.3); opacity:0.7;}
    100% { transform:translate(0,0) scale(1); opacity:1;}
  }

  .controls{
    position:absolute;
    left:34px;
    bottom:28px;
    z-index:10;
  }
  .btn{
    background:#ff4f8b;
    border:none;
    color:white;
    padding:8px 14px;
    border-radius:24px;
    cursor:pointer;
    font-size:14px;
  }
  .btn:active{ transform:translateY(1px); }

  @media (max-width:900px){
    :root{ --card-w: 92vw; --card-h: 64vh; }
    .tree-wrap{ width: 260px; right:6px; }
    .text-wrap{ right: 250px; }
  }
</style>
</head>
<body>
  <div class="card" id="card">
    <div class="text-wrap">
      <h1>Chúc mừng 20/10!</h1>
      <h2>Ngày của bạn — hãy tỏa sáng ✨</h2>
      <div id="message" class="message"></div>
    </div>

    <!-- 🌳 Cây trái tim -->
    <div class="tree-wrap" id="treeWrap">
      <img id="treeImg" src="pngtree-vector-love-tree-png-image_12898748.png" alt="Cây trái tim">
    </div>

    <div class="controls">
      <button class="btn" id="confettiBtn">Bắn confetti 🎉</button>
    </div>

    <!-- 🎵 Nhạc nền -->
    <audio id="bgm" autoplay loop>
      <source src="https://zingmp3.vn/album/Yeu-Em-Rat-Nhieu-Single-Hoang-Ton/ZO6977A8.html" type="audio/mpeg">
    </audio>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script>
    // Gõ chữ từng ký tự
    const messageEl = document.getElementById('message');
    const text =
`Nhân ngày Phụ Nữ Việt Nam 20/10, em xin kính chúc các chị trong đại gia đình Phong Thuỷ Phạm Thu Hiền luôn:

🌷 Xinh đẹp – Tự tin – May mắn như những viên đá phong thuỷ lấp lánh năng lượng tích cực.
💎 Công việc thuận lợi, vượng tài – khai lộc – phát đạt.
💐 Cuộc sống ngập tràn niềm vui, sức khỏe và hạnh phúc viên mãn.
Chúc các chị luôn là những “nữ thần may mắn”, lan toả năng lượng tốt đẹp đến mọi người xung quanh 💖✨🌸`;
    let idx = 0;
    function typeChar(){
      if(idx < text.length){
        messageEl.textContent += text.charAt(idx);
        idx++;
        setTimeout(typeChar, 55);
      }
    }
    typeChar();

    // 💞 Tim rơi nhẹ từ cây xuống
    const card = document.getElementById('card');
    const treeImg = document.getElementById('treeImg');

    function createHeartFromTree(){
      const treeRect = treeImg.getBoundingClientRect();
      const cardRect = card.getBoundingClientRect();
      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.textContent = '💖';
      const size = 12 + Math.random()*18;
      heart.style.fontSize = size + 'px';
      const startX = (treeRect.left - cardRect.left) + (treeRect.width * (0.25 + Math.random()*0.55));
      const startY = (treeRect.top - cardRect.top) + (treeRect.height * (0.1 + Math.random()*0.3));
      heart.style.left = startX + 'px';
      heart.style.top = startY + 'px';
      card.appendChild(heart);

      const translateX = -50 - Math.random()*160;
      const translateY = (cardRect.height * 0.7) + (Math.random()*60);
      const rotateDeg = 180 + Math.random()*360;
      const duration = 3500 + Math.random()*3000;

      heart.animate([
        { transform: 'translate(0, 0) rotate(0deg)', opacity: 1 },
        { transform: `translate(${translateX}px, ${translateY}px) rotate(${rotateDeg}deg)`, opacity: 0 }
      ], { duration, easing: 'linear', fill: 'forwards' });

      setTimeout(()=>heart.remove(), duration + 100);
    }
    setInterval(createHeartFromTree, 450);

    // 🌟 Hạt sáng lung linh quanh cây
    const treeWrap = document.getElementById('treeWrap');
    function createSparkle(){
      const sparkle = document.createElement('div');
      sparkle.className = 'sparkle';
      const size = 3 + Math.random()*4;
      sparkle.style.width = sparkle.style.height = size + 'px';
      sparkle.style.left = (240 + Math.random()*180) + 'px';
      sparkle.style.bottom = (220 + Math.random()*180) + 'px';
      treeWrap.appendChild(sparkle);
      setTimeout(()=>sparkle.remove(), 4000);
    }
    setInterval(createSparkle, 350);

    // 🎉 Confetti
    document.getElementById('confettiBtn').addEventListener('click', ()=>{
      const duration = 1200;
      const end = Date.now() + duration;
      (function frame(){
        confetti({
          particleCount: 7,
          startVelocity: 30,
          spread: 110,
          origin: { x: Math.random(), y: 0.2 }
        });
        if (Date.now() < end) requestAnimationFrame(frame);
      })();
    });
  </script>
</body>
</html>
